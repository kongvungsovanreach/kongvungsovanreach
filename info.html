<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Info Gen</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <style>
        #info_div, #download_btn_div {
            margin-top: 1em;
        }

        span:hover {
            cursor: pointer;
        }

        span {
            font-weight: bold;
            font-size: 25px;
        }

        #title {
            margin-bottom: 1em;
        }

    </style>
    <script>
        const first_names = ['Samnang', 'Sopheap', 'Vannak', 'Rathana', 'Sovann', 'Chetra', 'Kosal', 'Pheakdei', 'Sarith', 'Visal', 'Bunthoeun', 'Channarong', 'Dara', 'Kanha', 'Narith', 'Phirun', 'Serey', 'Thyda', 'Vireak', 'Arun', 'Chhay', 'Dararith', 'Heng', 'Kiri', 'Makara',
            'Naren', 'Pich', 'Rithy', 'Sokha', 'Vithu', 'Chanthou', 'Davith', 'Hak', 'Kunthy', 'Mony', 'Nimol', 'Ponleu', 'Sambath', 'Sopanha', 'Viseth', 'Chet', 'Det', 'Han', 'Leng', 'Narong', 'Phanith', 'Raksmey', 'Sitha', 'Sovichea', 'Vuthy', 'Srey Pov', 'Chanmony',
            'Bopha', 'Kunthea', 'Vatey', 'Dany', 'Kanika', 'Leakhena', 'Moni', 'Sovanny', 'Chenda', 'Kalyan', 'Malis', 'Phalla', 'Rachana', 'Sophea', 'Thida', 'Vichra', 'Bophal', 'Keo', 'Manich', 'Phanin', 'Ratana', 'Srey Leak', 'Vichara', 'Chakriya', 'Kimhong', 'Mara',
            'Pisey', 'Reaksa', 'Srey Mao', 'Voleak', 'Chantrea', 'Kimsreng', 'Molyka', 'Ponleak', 'Riya', 'Srey Mom', 'Vy', 'Chanthea', 'Kolab', 'Monireth', 'Pov', 'Rithy', 'Srey Nich', 'Yuvadee', 'Dalina', 'Kunthear', 'Neary', 'Rachany', 'Sopha', 'Thyda', 'Voleap',
            "Sopheap", "Sreytouch", "Vannak", "Phirun", "Bopha", "Chantrea", "Kosal", "Nary", "Sokha", "Pisey", "Chantou", "Rithy", "Srey Pov", "Theara", "Kunthea", "Chanmony", "Dara", "Srey Mao", "Samnang", "Socheata", "Sokunthea", "Chamroeun", "Ratanak", "Bunthoeun",
            "Sokly", "Ratha", "Sopheak", "Phearun", "Chenda", "Visal", "Kanika", "Kunthear", "Soriya", "Ravy", "Sovann", "Rachana", "Sopha", "Moni", "Sitha", "Sophear", "Chamnan", "Rith", "Raksmey", "Sovan", "Sreyleak", "Sopheap", "Chanthou", "Sarath", "Vicheka", "Serey",
            "Khemara", "Ratana", "Rin", "Sreyneang", "Samphors", "Vibol", "Sopha", "Ratanak", "Kunthy", "Bora", "Chandara", "Sokun", "Srey Nich", "Charya", "Phally", "Ponleu", "Sokny", "Rithysak", "Sokhom", "Vannarith", "Sovanna", "Raksa", "Kiri", "Sreymom", "Sovannarith",
            "Lyna", "Chakriya", "Samnang", "Thida", "Kimsour", "Virak", "Sopanha", "Bandith", "Vannak", "Sokha", "Chanty", "Sophea", "Channary", "Sokunthea", "Sreyroth", "Mony", "Vuthy", "Khemrin", "Sambo", "Narath", "Sokchea", "Narith", "Ponlok", "Davy", "Srey Leap", "Borey",
            "Piseth", "Sokunthear", "Phanith", "Sopheak", "Kanha", "Rattanak", "Sokcheat", "Chakriya", "Savuth", "Leakena", "Thyda", "Vireak", "Ponleak", "Sokunthor", "Manich", "Ratanakmony", "Sreynith", "Vanna", "Chantha", "Thida", "Kunthy", "Sopheara", "Channak", "Dalin",
            "Sovathana", "Senghour", "Phyrun", "Sambath", "Leakhena", "Sovannarath", "Bunlong", "Khemera", "Sreypich", "Sreyneat", "Chanthou", "Veasna", "Panha", "Vathana", "Sokly", "Seyha", "Rithisak", "Vannarith", "Sreyly", "Dararith", "Chetra", "Sovann", "Kimsan",
            "Sokleng", "Sreyka", "Nimol", "Sopheap", "Sereyrath", "Phearom", "Sokleang", "Makara", "Raksmey", "Pisei", "Sopheaktra", "Chhun", "Sovanny", "Kimlong", "Vichet", "Bunthorn", "Sokha", "Sithy", "Sreymao", "Ratha", "Sothea", "Nary", "Vicheth", "Raksa", "Vireakboth",
            "Sopha", "Sreypov", "Soksan", "Kanitha", "Rithy", "Monyrath", "Sreythom", "Savong", "Bunthoeun", "Sreytouch", "Sopanha", "Ratanak", "Kimsreng", "Sokun", "Sokchea", "Chansopheak", "Sreyneang", "Sitha", "Sreyroth", "Pich", "Sovath", "Sokunthea", "Sithar", "Kakada",
            "Sokny", "Ponleu", "Ratha", "Sokcheat", "Sophear", "Vichara", "Sopanha", "Sopheap", "Rithysak", "Sreylin", "Sopha", "Kalyan", "Sovannak", "Vanny", "Chanmony", "Sovannarith", "Chandarith", "Sopha", "Samnang", "Srey Noch", "Bunthoeun", "Sovann", "Rachna", "Kaknika",
            "Sovath", "Dara", "Vichet", "Chanthou", "Srey Pich", "Sokun", "Narin", "Sokly", "Chantha", "Kalyan", "Sitha", "Sreymom", "Pisey", "Sokchea", "Mony", "Sophear", "Rithy", "Vutha", "Kunthea", "Rithisak", "Srey Mao", "Sovannarith", "Sopheap", "Sokha", "Srey Neang",
            "Chanthol", "Kunthy", "Chamnan", "Sokunthear", "Chanmony", "Sovanny", "Ratanak", "Vannak", "Sokcheat", "Raksa", "Sreyleak", "Phirun", "Ponleu", "Borey", "Sreypov", "Kanika", "Sambath", "Bopha", "Sok Leap", "Sithy", "Kosal", "Sophea", "Chamroeun", "Sreytouch",
            "Vibol", "Kanha", "Nary", "Sokunthea", "Chanthy", "Kunthear", "Sokha", "Sitha", "Ratha", "Sovannarath", "Srey Pov", "Ratanak", "Sopanha", "Srey Nich", "Samnang", "Chenda", "Sithy", "Chamnan", "Rith", "Kimsour", "Sokun", "Phally", "Sopha", "Bunthoeun", "Davy",
            "Serey", "Sopheap", "Khemara", "Charya", "Rin", "Vanna", "Sokny", "Kunthea", "Virak", "Sopanha", "Sereypheap", "Sokha", "Chanthou", "Sokunthear", "Sophea", "Kanitha", "Srey Leap", "Sovanna", "Rithysak", "Vannarith", "Sokhom", "Sreyroth", "Sopheap", "Chantrea",
            "Vicheka", "Sarath", "Ponlok", "Sreyroth", "Sreyneang", "Sokunthor", "Dara", "Sambo", "Sokunthea", "Sreykhouch", "Sereyvuth", "Pich", "Sovannarith", "Sreylin", "Tharith", "Vannarith", "Sreynoch", "Chandara", "Sopheap", "Ratanak", "Sokha", "Vichara", "Sokny",
            "Sreyneang", "Sopheak", "Rithy", "Sovann", "Khemara", "Srey Pov", "Vibol", "Sophea", "Sovathana", "Chanthou", "Sokun", "Vuthy", "Sokchea", "Srey Mao", "Sitha", "Rachana", "Kunthea", "Sophear", "Nary", "Sreyroth", "Sokly", "Chenda", "Sokunthear", "Phally", "Ratanak",
            "Sokhom", "Sreyleak", "Kosal", "Chanthol", "Sreytouch", "Sopanha", "Ratha", "Sreypov", "Kunthear", "Bopha", "Sithy", "Samnang", "Vanna", "Virak", "Srey Nich", "Kunthy", "Ponleu", "Sovanna", "Sokcheat", "Srey Leap", "Sokha", "Sopha", "Serey", "Vicheka", "Kanika",
            "Sok Leap", "Mony", "Sopheap", "Sovannarath", "Sreyneat", "Davy", "Chanthou", "Sambo", "Rithysak", "Sereypheap", "Srey Noch", "Sokunthor", "Sreyroth", "Kanha", "Chanthy", "Sokunthea", "Srey Pich", "Chamroeun", "Sitha", "Rith", "Sopheak", "Srey Mao", "Sambath",
            "Chakriya", "Sovath", "Sokchea", "Srey Lin", "Vireak", "Sreyneang", "Sokcheat", "Sereyvuth", "Kalyan", "Sokunthear", "Kunthea", "Ratanakmony", "Sopha", "Leakena", "Nimol", "Sokly", "Sreyka", "Sokun", "Vichet", "Sokha", "Chakriya", "Sreyka", "Sophea", "Bunthoeun",
            "Rithy", "Vireak", "Serey", "Sokunthea", "Sovannarith", "Chanthou", "Piseth", "Srey Pov", "Sokha", "Sitha", "Vanna", "Ratanak", "Kanitha", "Sokchea", "Dara", "Sopheak", "Srey Mao", "Kosal", "Samnang", "Vichet", "Sopheap", "Chamroeun", "Sreyroth", "Sokun", "Virak",
            "Sovath", "Kunthea", "Sreytouch", "Nary", "Sithy", "Sopha", "Vibol", "Ponleu", "Srey Nich", "Mony", "Raksa", "Kanha", "Srey Neang", "Chanthy", "Sok Leap", "Sreylin", "Sovanna", "Sopanha", "Ratha", "Sereypheap", "Sokhom", "Kunthear", "Sambo", "Srey Leap", "Sokunthor",
            "Chanthol", "Sokunthear", "Davy", "Sophear", "Rithysak", "Khemara", "Srey Noch", "Sokcheat", "Chakriya", "Sreyka", "Sophea", "Bunthoeun", "Rithy", "Vireak", "Serey", "Sokunthea", "Sovannarith", "Chanthou", "Piseth", "Srey Pov", "Sokha", "Sitha", "Vanna", "Ratanak",
            "Kanitha", "Sokchea", "Dara", "Sopheak", "Srey Mao", "Kosal", "Samnang", "Vichet", "Sopheap", "Chamroeun", "Sreyroth", "Sokun", "Virak", "Sovath", "Kunthea", "Sreytouch", "Nary", "Sithy", "Sopha", "Vibol", "Ponleu", "Srey Nich", "Mony", "Raksa", "Kanha", "Srey Neang",
            "Chanthy", "Sok Leap", "Sreylin", "Sovanna", "Sopanha", "Ratha", "Sereypheap", "Sokhom", "Kunthear", "Sambo", "Srey Leap", "Sokunthor", "Chanthol", "Sokunthear", "Davy", "Sophear", "Rithysak", "Khemara", "Srey Noch", "Sokcheat"];

        const last_names = ["Chea", "Heng", "Chhim", "Hun", "Keo", "Khun", "Kong", "Lim", "Leng", "Ly", "Mao", "Meas", "Meng", "Nguon", "Nou", "Ouk", "Phan", "Pich", "Rin", "Roeung", "Ros", "Sao", "Sar", "Sok", "Sorn", "Sun", "Taing", "Tann", "Thach", "Thong", "Thy", "Touch", "Um", "Vann",
            "Vong", "Yim", "Yin", "Chan", "Chhay", "Chhoeun", "Chhoung", "Chhun", "Chou", "Eng", "Eang", "Hem", "Ho", "Hour", "In", "Kang", "Kao", "Khuon", "Khy", "Kouy", "Lam", "Lau", "Lay", "Leang", "Lor", "Mak", "Mam", "Mok", "Nget", "Nhim", "Nin", "Noy", "Peou", "Pheng",
            "Pov", "Prak", "Prum", "Rath", "Ruon", "Sam", "San", "Seng", "Sim", "Suon", "Tep", "Tha", "Thon", "Tin", "Tith", "Try", "Tun", "Ty", "Ung", "Van", "Voan", "Yon", "Yong", "Chau", "Chean", "Cheng", "Chouk", "Chum", "Dan", "Din", "Duong", "Heang", "Hok", "Hong",
            "Hout", "Kan", "Ke", "Khem", "Kheang", "Khen", "Khiev", "Kim", "Koeun", "Koy", "Krang", "Kruy", "Kun", "Ban", "Bun", "Chap", "Cheang", "Chhan", "Chhorn", "Chhum", "Choung", "Chour", "Chuon", "Chy", "Duch", "Dy", "Eap", "Hak", "Hang", "Hean", "Heang", "Hoeun",
            "Hoy", "Huon", "Huy", "Keang", "Kem", "Khen", "Kheng", "Khiev", "Khim", "Khoem", "Khuoch", "Khuon", "Kong", "Koy", "Kruoch", "Kun", "Kuy", "Lai", "Lam", "Lang", "Lauk", "Leak", "Leng", "Lo", "Lok", "Long", "Luon", "Luy", "Mak", "Mam", "Meak", "Mean", "Meang",
            "Meng", "Moeun", "Mom", "Mouy", "Nang", "Nem", "Ngo", "Ngoun", "Nhok", "Nhorm", "Nim", "Noun", "Nov", "Nuon", "Oun", "Pak", "Pang", "Peang", "Pen", "Phat", "Pheng", "Pho", "Phoeun", "Phon", "Phong", "Phou", "Pich", "Pin", "Pou", "Pum", "Ra", "Rath", "Reang",
            "Riem", "Rith", "Roeun", "Rong", "Ruos", "Sak", "Sam", "Samnang", "Sang", "Sao", "Sav", "Savoeun", "Say", "Sea", "Seang", "Seng", "Sim", "Sin", "So", "Soeun", "Sok", "Sokha", "Som", "Song", "Soy", "Sreng", "Su", "Suy", "Sy", "Tak", "Tan", "Tang", "Te", "Teang",
            "Tha", "Than", "Thang", "Thav", "Thean", "Them", "Theng", "Tho", "Thoeun", "Thol", "Thong", "Thou", "Thy", "Tin", "To", "Toch", "Ton", "Tong", "Touch", "Trang", "Trea", "Tuy", "Uk", "Ung", "Uy", "Voeun", "Voeung", "Von", "Vuth", "Yen", "Yoeun", "Yon", "Yuth",
            "An", "Ang", "Aun", "Bao", "Chang", "Chea", "Cheng", "Chhay", "Chhoeun", "Chhuon", "Chhun", "Chin", "Choun", "Co", "Doung", "Duon", "Eang", "Ek", "Hak", "Han", "Heng", "Ho", "Hok", "Hout", "Hun", "Hy", "Ith", "Kang", "Keo", "Ket", "Khean", "Kheang", "Khieu",
            "Khing", "Khoeun", "Khoth", "Khuon", "Kong", "Koy", "Krouch", "Kun", "Kung", "Lai", "Lay", "Le", "Leap", "Leng", "Loeun", "Lok", "Lor", "Ly", "Ma", "Mam", "Mao", "Meak", "Mean", "Meng", "Meuk", "Moeun", "Mom", "Nang", "Nem", "Nget", "Ngoun", "Nhek", "Nhem",
            "Nhim", "Nhok", "Nhorm", "Nou", "Nov", "Noy", "Nuon", "Ouk", "Oum", "Oun", "Pak", "Pang", "Pann", "Peang", "Pen", "Phan", "Phat", "Pheng", "Phim", "Pho", "Phoeun", "Phon", "Phou", "Pich", "Pin", "Pon", "Pou", "Preap", "Proeung", "Pum", "Put", "Ra", "Rath", "Ream",
            "Rith", "Roeun", "Roath", "Sak", "Sam", "Samnang", "Sang", "Sanh", "Sao", "Sar", "Sath", "Sav", "Savoeun", "Say", "Sea", "Seang", "Seng", "Siek", "Sim", "Sin", "So", "Soeun", "Sok", "Sokha", "Som", "Song", "Soy", "Sreng", "Su", "Suy", "Sy", "Ta", "Tak", "Tan",
            "Tang", "Te", "Teang", "Tha", "Than", "Thang", "Thav", "Thean", "Them", "Theng", "Tho", "Thoeun", "Thol", "Thong", "Thou", "Thy", "Tin", "To", "Toch", "Ton", "Tong", "Touch", "Trang", "Trea", "Tuy", "Uk", "Ung", "Uy", "Van", "Vann", "Vath", "Veng", "Voeun",
            "Voeung", "Von", "Vuth", "Yen", "Yoeun", "Yon", "Yuth", "An", "Ang", "Aun", "Bao", "Chang", "Chea", "Cheng", "Chhay", "Chhoeun", "Chhuon", "Chhun", "Chin", "Choun", "Co", "Doung", "Duon", "Eang", "Ek", "Hak", "Han", "Heng", "Ho", "Hok", "Hout", "Hun", "Hy", "Ith",
            "Kang", "Keo", "Ket", "Khean", "Kheang", "Khieu", "Khing", "Khoeun", "Khoth", "Khuon", "Kong", "Koy", "Krouch", "Kun", "Kung", "Lai", "Lay", "Le", "Leap", "Leng", "Loeun", "Lok", "Lor", "Ly", "Ma", "Mam", "Mao", "Meak", "Mean", "Meng", "Meuk", "Moeun", "Mom",
            "Nang", "Nem", "Nget", "Ngoun", "Nhek", "Nhem", "Nhim", "Nhok", "Nhorm", "Nou", "Nov", "Noy", "Nuon", "Ouk", "Oum", "Oun", "Pak", "Pang", "Pann", "Peang", "Pen", "Phan", "Phat", "Pheng", "Phim", "Pho", "Phoeun", "Phon", "Phou", "Pich", "Pin", "Pon", "Pou", "Preap",
            "Proeung", "Pum", "Put", "Ra", "Rath", "Ream", "Riem", "Riem", "Rith", "Roeun", "Roath", "Sak", "Sam", "Samnang", "Sang", "Sanh", "Sao", "Sar", "Sath", "Sav", "Savoeun", "Say", "Sea", "Seang", "Seng", "Siek", "Sim", "Sin", "So", "Soeun", "Sok", "Sokha", "Som",
            "Song", "Soy", "Sreng", "Su", "Suy", "Sy", "Ta", "Tak", "Tan", "Tang", "Te", "Teang", "Tha", "Than", "Thang", "Thav", "Thean", "Them", "Theng", "Tho", "Thoeun", "Thol", "Thong", "Thou", "Thy", "Tin", "To", "Toch", "Ton", "Tong", "Touch", "Trang", "Trea", "Tuy",
            "Uk", "Ung", "Uy", "Van", "Vann", "Vath", "Veng", "Voeun", "Voeung", "Von", "Vuth", "Yen", "Yoeun", "Yon", "Yuth"];
    </script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-6 offset-3">
                <h1 id="title">Info Gen for Fun</h1>
            </div>
            <div class="col-6 offset-3">
                <input type="button" class="btn btn-primary" value="Generate" id="gen_btn">
            </div>
            <div class="col-6 offset-3" id="info_div">
                <p>Last Name: <span id="last_name">Not Generated</span></p>
                <p>First Name: <span id="first_name">Not Generated</span></p>
                <p>Date of birth: <span id="date_of_birth">Not Generated</span></p>
                <p>Password: <span id="password">Not Generated</span></p>
            </div>
            <div class="col-6 offset-3">
                <label for="email">Email:</label>
                <input type="text" class="form-control" id="email">
            </div>
            <div class="col-6 offset-3">
                <label for="gender">Gender:</label>
                <select name="gender" id="gender" class="form-select">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
              </div>
            <div class="col-6 offset-3" id="download_btn_div">
                <input type="button" class="btn btn-success" value="Download" id="download_btn">
            </div>
        </div>
    </div>
    <script>
        function createList(start, end) {
            let list = [];
            for (let i = start; i <= end; i++) {
                list.push(i);
            }
            return list;
        }

        function get_name() {
            const first_name_index = Math.floor(Math.random() * first_names.length);
            const last_name_index = Math.floor(Math.random() * last_names.length);
            first_name = first_names[first_name_index];
            last_name = last_names[last_name_index];
            $('#first_name').text(first_name);
            $('#last_name').text(last_name);
            localStorage.setItem('first_name', first_name);
            localStorage.setItem('last_name', last_name);
        }

        function get_dob() {
            const years = createList(1990, 2004);
            const months = createList(1, 12);
            const days = createList(1, 28);
            const year_index = Math.floor(Math.random() * years.length);
            const month_index = Math.floor(Math.random() * months.length);
            const day_index = Math.floor(Math.random() * days.length);
            let year = years[year_index];
            let month = months[month_index];
            let day = days[day_index];
            month = month.toString().length == 1 ? `0${month}` : month;
            day = day.toString().length == 1 ? `0${day}` : day;
            $('#date_of_birth').text(`${year}-${month}-${day}`);
            localStorage.setItem('date_of_birth', `${year}-${month}-${day}`);
        }

        function get_password() {
            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercase = 'abcdefghijklmnopqrstuvwxyz';
            const numbers = '0123456789';
            const specialChars = '!@#$';

            // Function to get a random character from a string
            const getRandomChar = (str) => str[Math.floor(Math.random() * str.length)];

            // Randomly choose a length between 10 and 15
            const length = Math.floor(Math.random() * 6) + 10;

            let password = '';

            // Ensure the password contains at least one character from each set
            password += getRandomChar(uppercase);
            password += getRandomChar(lowercase);
            password += getRandomChar(numbers);
            password += getRandomChar(specialChars);

            // Fill the rest of the password length with a random selection of all characters
            const allChars = uppercase + lowercase + numbers + specialChars;
            for (let i = password.length; i < length; i++) {
                password += getRandomChar(allChars);
            }

            // Shuffle the password to mix the ensured characters
            let gen_password = password.split('').sort(() => 0.5 - Math.random()).join('');
            $('#password').text(gen_password);
            localStorage.setItem('password', gen_password);
        }

        function restore_info() {
            $('#first_name').text(localStorage.getItem('first_name'));
            $('#last_name').text(localStorage.getItem('last_name'));
            $('#date_of_birth').text(localStorage.getItem('date_of_birth'));
            $('#password').text(localStorage.getItem('password'));
        }

        // Function to copy text to clipboard
        function copyTextToClipboard(text) {
            navigator.clipboard.writeText(text).then(function () {
                console.log('Text successfully copied to clipboard');
                console.log(text)
                Toastify({
                    text: `Copied: ${text}`,
                    className: "info",
                    position: 'center',
                    duration: 1000,
                    style: {
                        background: "linear-gradient(to right, #00b09b, #96c93d)",
                    }
                }).showToast();
            }).catch(function (err) {
                console.error('Could not copy text: ', err);
            });
        }

        function uuidv4() {
        return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, c =>
            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
        );
        }

        // Function to attach click event to spans
        function attachClickEventToSpans() {
            // Select all span elements
            var spans = document.querySelectorAll('span');

            // Add click event listener to each span
            spans.forEach(function (span) {
                span.addEventListener('click', function () {
                    var textToCopy = this.innerText;
                    copyTextToClipboard(textToCopy);
                });
            });
        }

        function downloadObjectAsJson(exportObj, exportName){
            var dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportObj));
            var downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href",     dataStr);
            downloadAnchorNode.setAttribute("download", exportName + ".json");
            document.body.appendChild(downloadAnchorNode); // required for firefox
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            Toastify({
                    text: `Downloaded: file downloaded!`,
                    className: "success",
                    position: 'center',
                    duration: 1000,
                    style: {
                        background: "linear-gradient(to right, #00b09b, #96c93d)",
                    }
                }).showToast();
        }

        function prepare_file() {
            const first_name = localStorage.getItem('first_name');
            const last_name = localStorage.getItem('last_name');
            const dob = localStorage.getItem('date_of_birth');
            const password = localStorage.getItem('password');
            const gender = $('#gender').val()
            const email = $('#email').val()
            console.log(first_name, last_name, dob, password);
            const filename = `INFO_${first_name}_${last_name}_${dob}_${uuidv4()}.csv`
            if (email == '') {
                Toastify({
                    text: `Error: emtpy email address!`,
                    className: "danger",
                    position: 'center',
                    duration: 3000,
                    style: {
                        background: "linear-gradient(to right, #ff0000, #ff0000)",
                    }
                }).showToast();
                return
            }
            const data = {
                'first_name': first_name,
                'last_name': last_name,
                'dob': dob,
                'gender': gender,
                'email': email,
                'password': password
            }
            downloadObjectAsJson(data, filename);
        }

        $('#gen_btn').click(() => {
            get_name();
            get_dob();
            get_password();
            //reset email and gender input
            $('#email').val('');
            $('#gender').val("male");
        });

        $('#download_btn').click(() => {
            prepare_file();
        });

        restore_info();
        attachClickEventToSpans();

    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>
